{"ast":null,"code":"var _jsxFileName = \"/Users/kinjalmehta/Desktop/writeSoftwareHere/student-records/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './App.css'; // import data from './Student_Data.json' ;\n\nimport Card from './Component/Card/Card';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useHistory } from \"react-router-dom\";\nimport { MDBCol, MDBFormInline, MDBBtn } from \"mdbreact\";\nimport { Button } from 'reactstrap';\nimport Modal from './Component/Modal/Modal';\nimport CardDetails from './Component/CardDetails/CardDetails';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport axios from './Axios';\nimport RecordDetails from './Component/RecordDetails/RecordDetails';\nimport CustomizedTables from './Component/DataTable/Table';\nimport Login from './Component/Login/Login';\nimport Logout from './Component/Login/Logut';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Plot from './Component/Plot/Plot'; // import Dashboard from './Component/Dashboard/Dashboard'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [fav, setFav] = useState([]);\n  const [data, setData] = useState([]);\n  const [companyName, setcompanyName] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n  const [searchInvoked, setSearchInvoked] = useState(false);\n  const [flag, setFlag] = useState(false);\n  const [nextCursor, setNextCursor] = useState(null);\n  console.log(nextCursor, 'nextCursor');\n  const history = useHistory();\n  {\n    /* ---------------PLOT GRRAPH----------------------- */\n  }\n  {\n    /* ---------------------------------------------------- */\n  }\n  useEffect(() => {\n    setFlag(true);\n    axios.get(`/v1/record/getpaginatedrecords?next_cursor=${nextCursor}`).then(res => {\n      console.log(res);\n      setData(res.data);\n      setFlag(false);\n    }).catch(e => {\n      setFlag(false);\n      console.log(e);\n    });\n  }, []); // ********* CHANGE *************\n\n  function handleClear() {\n    setSearchText(\"\");\n    setSearchInvoked(false);\n    axios.get(`/v1/record/getpaginatedrecords?next_cursor=${nextCursor}`).then(res => {\n      console.log(res);\n      setData(res.data);\n      setFlag(false);\n    }).catch(e => {\n      setFlag(false);\n      console.log(e);\n    });\n  }\n\n  function handleSearch() {\n    setSearchInvoked(true);\n    setFlag(true);\n    axios.get(`/v1/record/recordbyname?searchText=${searchText}`).then(res => {\n      console.log(res);\n      setData(res.data);\n      setFlag(false);\n    }).catch(e => {\n      setFlag(false);\n      console.log(e);\n    });\n  }\n\n  useEffect(() => {\n    if (data && data.length) {\n      const lastElemId = data[data.length - 1]._id;\n      setNextCursor(lastElemId);\n    }\n  }, [data]);\n\n  function handleKeyPress(e) {\n    if (e.which == 13 || e.keyCode == 13) {\n      //   console.log(\"enter press here!\");\n      handleSearch();\n    }\n  }\n\n  function getNext() {\n    setFlag(true);\n    axios.get(`v1/record/getpaginatedrecords?next_cursor=${nextCursor}`).then(res => {\n      console.log(res);\n      let copyData = [...data, ...res.data];\n      setData(copyData);\n      setFlag(false);\n    }).catch(e => {\n      setFlag(false);\n      console.log(e);\n    });\n  }\n\n  function getprev() {\n    setFlag(true);\n    axios.get(`v1/record/getpaginatedrecords?next_cursor=${nextCursor}`).then(res => {\n      console.log(res);\n      let copyData = [...data, ...res.data];\n      setData(copyData);\n      setFlag(false);\n    }).catch(e => {\n      setFlag(false);\n      console.log(e);\n    });\n  }\n\n  const {\n    isAuthenticated\n  } = useAuth0();\n\n  function checkAuth() {\n    console.log(\"IN Dash\");\n\n    if (isAuthenticated) {\n      console.log(isAuthenticated);\n      console.log(\"in authm of funct dash\");\n      let path = '/dashboard';\n      history.push(path);\n    } else {\n      console.log(\"not redirecting\");\n    }\n  }\n\n  if (flag) {\n    return /*#__PURE__*/_jsxDEV(LinearProgress, {\n      variant: \"determinate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: 'white',\n      margin: '20px',\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Login, {\n        style: {\n          margin: '20px',\n          padding: '20px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Logout, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: checkAuth,\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Plot, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: /*#__PURE__*/_jsxDEV(\"em\", {\n        children: /*#__PURE__*/_jsxDEV(\"u\", {\n          children: \" Company Records: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: searchText,\n        onKeyPress: e => handleKeyPress(e),\n        onChange: e => setSearchText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          disabled: searchInvoked,\n          onClick: () => handleSearch(),\n          color: \"primary\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 5\n      }, this), searchInvoked && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleClear(),\n          color: \"primary\",\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: '20px',\n          textAlign: 'right'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          disabled: data.length === 100 ? true : false,\n          onClick: () => getNext(),\n          color: \"secondary\",\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(CustomizedTables, {\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 1\n  }, this);\n}\n\n_s(App, \"/6gfbmi1y8l++eFb6Xcv9P0vxMw=\", false, function () {\n  return [useHistory, useAuth0];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/kinjalmehta/Desktop/writeSoftwareHere/student-records/src/App.js"],"names":["React","useEffect","useState","Card","v4","uuidv4","useHistory","MDBCol","MDBFormInline","MDBBtn","Button","Modal","CardDetails","Checkbox","makeStyles","LinearProgress","axios","RecordDetails","CustomizedTables","Login","Logout","useAuth0","Plot","App","fav","setFav","data","setData","companyName","setcompanyName","searchText","setSearchText","searchInvoked","setSearchInvoked","flag","setFlag","nextCursor","setNextCursor","console","log","history","get","then","res","catch","e","handleClear","handleSearch","length","lastElemId","_id","handleKeyPress","which","keyCode","getNext","copyData","getprev","isAuthenticated","checkAuth","path","push","backgroundColor","margin","padding","target","value","marginLeft","textAlign"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport './App.css'\n// import data from './Student_Data.json' ;\nimport Card from './Component/Card/Card';\nimport { v4 as uuidv4 } from 'uuid';\n import { useHistory } from \"react-router-dom\";\nimport { MDBCol, MDBFormInline, MDBBtn } from \"mdbreact\";\nimport { Button } from 'reactstrap';\nimport Modal from './Component/Modal/Modal'\nimport CardDetails from './Component/CardDetails/CardDetails'\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport axios from'./Axios'\nimport RecordDetails from './Component/RecordDetails/RecordDetails';\nimport CustomizedTables from './Component/DataTable/Table'\nimport Login from './Component/Login/Login'\nimport Logout from './Component/Login/Logut'\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Plot from './Component/Plot/Plot'\n// import Dashboard from './Component/Dashboard/Dashboard'\nfunction App() {\nconst [fav, setFav] =useState([])\nconst [data, setData]=useState([])\nconst [companyName,setcompanyName] =useState(\"\")\nconst [searchText,setSearchText]=useState(\"\")\nconst [searchInvoked,setSearchInvoked]=useState(false)\nconst [flag, setFlag] = useState(false)\nconst [nextCursor, setNextCursor] = useState(null)\nconsole.log(nextCursor,'nextCursor');\n\nconst history= useHistory()\n\n{/* ---------------PLOT GRRAPH----------------------- */}\n\n{/* ---------------------------------------------------- */}\nuseEffect(()=>{\n    setFlag(true);\n   axios.get(`/v1/record/getpaginatedrecords?next_cursor=${nextCursor}`)\n    .then(\n        res=>{\n            console.log(res)\n            setData(res.data)\n            setFlag(false);\n        })\n    .catch((e)=>{\n        setFlag(false)\n        console.log(e)\n    })\n},[])\n\n// ********* CHANGE *************\n\n     \n        \n            function handleClear(){\n                setSearchText(\"\")\n                setSearchInvoked(false)\n                axios.get(`/v1/record/getpaginatedrecords?next_cursor=${nextCursor}`) \n                .then(res=>{\n                        console.log(res)\n                        setData(res.data)\n                        setFlag(false);\n                    })\n                .catch((e)=>{\n                    setFlag(false)\n                    console.log(e)\n                })\n                }\n\n            function handleSearch () {\n                    setSearchInvoked(true)\n                    setFlag(true)\n                    axios.get(`/v1/record/recordbyname?searchText=${searchText}`)\n                    .then(res=>{\n                          console.log(res)\n                          setData(res.data)\n                          setFlag(false);\n                      })\n                  .catch((e)=>{\n                      setFlag(false)\n                      console.log(e)\n                  })\n                \n            }\n\n            useEffect(()=>{\n                if(data && data.length) {\n                    const lastElemId = data[data.length-1]._id\n                   setNextCursor(lastElemId)\n                }\n                },[data])\n\n            function handleKeyPress (e) {\n                if(e.which == 13 || e.keyCode == 13){\n                //   console.log(\"enter press here!\");\n                  handleSearch()\n                }\n              }\n\n              function getNext(){\n                setFlag(true)\n                    axios.get(`v1/record/getpaginatedrecords?next_cursor=${nextCursor}`)\n                        .then(res=>{\n                            console.log(res)\n                            let copyData=[...data,...res.data]\n                            setData(copyData)\n                            setFlag(false)\n                        })\n                        .catch(e=>{\n                            setFlag(false)\n                            console.log(e)\n                        })\n            }\n            function getprev(){\n                setFlag(true)\n                    axios.get(`v1/record/getpaginatedrecords?next_cursor=${nextCursor}`)\n                        .then(res=>{\n                            console.log(res)\n                            let copyData=[...data,...res.data]\n                            setData(copyData)\n                            setFlag(false)\n                        })\n                        .catch(e=>{\n                            setFlag(false)\n                            console.log(e)\n                        })\n            }\n\n            const {\n                isAuthenticated\n              } = useAuth0();\n\n            function checkAuth(){\n                console.log(\"IN Dash\")\n                if(isAuthenticated){\n                    console.log(isAuthenticated)\n                    console.log(\"in authm of funct dash\")\n                    let path = '/dashboard'; \n                    history.push(path);\n                }else{\n                    console.log(\"not redirecting\");\n                }\n                \n            }\n\n\n\nif(flag){\n    return <LinearProgress variant=\"determinate\"/>\n}\n\nreturn (  \n<div style={{backgroundColor: 'white' , margin:'20px', padding:'20px'}}>\n\n        <div >\n        <Login style={{margin:'20px', padding:'20px'}} />\n        <Logout/>\n        <button onClick={checkAuth}>Dashboard</button>\n        </div>\n\n\n        <br></br>\n        <Plot/>\n\n<h1><em><u> Company Records: </u></em></h1>\n\n    <div style={{margin:'30px'}}>\n    <input value={searchText} onKeyPress={(e)=>handleKeyPress(e)} onChange={(e)=>setSearchText(e.target.value)}/>\n    <span style={{marginLeft:'20px'}}><Button disabled={searchInvoked} onClick={()=>handleSearch()} color=\"primary\">Search</Button></span>\n        {\n        searchInvoked && <span style={{marginLeft:'20px'}}>\n            <Button onClick={()=>handleClear()} color=\"primary\">Clear</Button>\n        </span>\n        }\n    </div>\n     \n    <div>\n    <div style={{margin:'20px',textAlign:'right'}}>\n    <Button disabled={data.length===100?true:false} onClick={()=>getNext()} color=\"secondary\">Next</Button>\n    </div>\n    {/* <div style={{margin:'20px',textAlign:'left'}}>\n    <Button disabled={data.length===0?true:false} onClick={()=>getprev()} color=\"secondary\">Previous</Button>\n    </div> */}\n    <CustomizedTables\n    data={data}/>\n    </div>  \n</div>\n);      \n}\n\n        export default App"]},"metadata":{},"sourceType":"module"}